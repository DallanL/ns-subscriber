# --- App Settings ---
DEBUG=false
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# --- Network & Domain ---
# The public URL where this app is reachable by the browser (for JS injection)
PUBLIC_API_URL=https://app.yourdomain.com

# Docker / Traefik Configuration
SERVICE_DOMAIN=app.yourdomain.com
DOCKER_NETWORK=proxy_public

# --- Security ---
# Generate a secure key: `python3 -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"`
ENCRYPTION_KEY=your_generated_fernet_key

# Strict Whitelist: Only allow requests from these Portal origins (comma-separated, supports *)
ALLOWED_ORIGINS=https://portal.yourpbx.com,*.yourpbx.com

# --- Netsapiens OAuth ---
NS_CLIENT_ID=your_client_id
NS_CLIENT_SECRET=your_client_secret
# The authoritative API server. This app will ONLY connect to this server.
NS_API_URL=https://api.yourpbx.com/ns-api/v2

# --- Subscription Settings ---
SUBSCRIPTION_DURATION_DAYS=7
SUBSCRIPTION_RENEWAL_WINDOW_HOURS=24

# --- API Throttling ---
NS_API_MAX_REQUESTS_PER_SECOND=5.0

# --- Database Configuration ---
POSTGRES_USER=ns_user
POSTGRES_PASSWORD=secure_db_password
POSTGRES_DB=ns_subscriber
DATABASE_URL=postgresql+asyncpg://ns_user:secure_db_password@db:5432/ns_subscriber